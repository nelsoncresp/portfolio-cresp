---
import { Icon } from 'astro-icon/components';
---

<button id="theme-toggle" class="p-2 rounded-full border border-stone-300 dark:border-stone-600 bg-stone-100 dark:bg-stone-800 hover:bg-[#C5A059] dark:hover:bg-[#C5A059] transition-colors group" aria-label="Cambiar tema">
    <Icon name="mdi:white-balance-sunny" class="w-6 h-6 text-stone-600 dark:text-stone-200 group-hover:text-stone-900 hidden dark:block" />
    <Icon name="mdi:weather-night" class="w-6 h-6 text-stone-600 group-hover:text-stone-900 dark:hidden" />
</button>

<script>
    const themeToggle = document.getElementById('theme-toggle');
    const handleToggleClick = () => {
        const element = document.documentElement;
        element.classList.toggle("dark");

        const isDark = element.classList.contains("dark");
        localStorage.setItem("theme", isDark ? "dark" : "light");
    }

    themeToggle?.addEventListener("click", handleToggleClick);
</script>